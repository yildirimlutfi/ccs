//Verici READ HC165

#define defHcClockPin IOID_9
#define defHcDataPin  IOID_8
#define defHcLatchPin IOID_10

PIN_Handle KumandaButonlarPinHandle;
PIN_State KumandaButonlarPinState;

PIN_Config KumandaButonlarPinTable[] =
{
    defHcClockPin  | PIN_GPIO_OUTPUT_EN | PIN_GPIO_LOW | PIN_PUSHPULL | PIN_DRVSTR_MAX,
    defHcDataPin   | PIN_INPUT_EN | PIN_PULLUP | PIN_IRQ_NEGEDGE,
    defHcLatchPin  | PIN_GPIO_OUTPUT_EN | PIN_GPIO_LOW | PIN_PUSHPULL | PIN_DRVSTR_MAX,
    PIN_TERMINATE
};

uint8_t temp = 0;
bool di165Hc[8];
void aliciclock165(void)
{
     PIN_setOutputValue(KumandaButonlarPinHandle, defHcClockPin, 1);
     _delay_cycles (1);
     PIN_setOutputValue(KumandaButonlarPinHandle, defHcClockPin, 0);
}

void aliciread165()
{
    di165Hc[0]=PIN_getInputValue(defHcDataPin); aliciclock165();
    di165Hc[1]=PIN_getInputValue(defHcDataPin); aliciclock165();
    di165Hc[2]=PIN_getInputValue(defHcDataPin); aliciclock165();
    di165Hc[3]=PIN_getInputValue(defHcDataPin); aliciclock165();
    di165Hc[4]=PIN_getInputValue(defHcDataPin); aliciclock165();
    di165Hc[5]=PIN_getInputValue(defHcDataPin); aliciclock165();
    di165Hc[6]=PIN_getInputValue(defHcDataPin); aliciclock165();
    di165Hc[7]=PIN_getInputValue(defHcDataPin); aliciclock165();

     PIN_setOutputValue(KumandaButonlarPinHandle, defHcLatchPin, 0);
     _delay_cycles (1);
     PIN_setOutputValue(KumandaButonlarPinHandle, defHcLatchPin, 1);
}
